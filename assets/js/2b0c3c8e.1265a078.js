"use strict";(self.webpackChunkdocs_rancherdesktop_io=self.webpackChunkdocs_rancherdesktop_io||[]).push([[8236],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(7294),a=n(4334),i="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(i,o),hidden:n},t)}},5488:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(3117),a=n(7294),i=n(4334),o=n(2389),l=n(7392),s=n(7094),u=n(2466),p="tabList__CuJ",c="tabItem_LNqP";function d(e){var t;const{lazy:n,block:o,defaultValue:d,values:m,groupId:g,className:f}=e,k=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=m??k.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),y=(0,l.l)(h,((e,t)=>e.value===t.value));if(y.length>0)throw new Error(`Docusaurus error: Duplicate values "${y.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const b=null===d?d:d??(null==(t=k.find((e=>e.props.default)))?void 0:t.props.value)??k[0].props.value;if(null!==b&&!h.some((e=>e.value===b)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${b}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:N,setTabGroupChoices:v}=(0,s.U)(),[w,C]=(0,a.useState)(b),x=[],{blockElementScrollPositionUntilNextRender:O}=(0,u.o5)();if(null!=g){const e=N[g];null!=e&&e!==w&&h.some((t=>t.value===e))&&C(e)}const E=e=>{const t=e.currentTarget,n=x.indexOf(t),r=h[n].value;r!==w&&(O(t),C(r),null!=g&&v(g,String(r)))},T=e=>{var t;let n=null;switch(e.key){case"Enter":E(e);break;case"ArrowRight":{const t=x.indexOf(e.currentTarget)+1;n=x[t]??x[0];break}case"ArrowLeft":{const t=x.indexOf(e.currentTarget)-1;n=x[t]??x[x.length-1];break}}null==(t=n)||t.focus()};return a.createElement("div",{className:(0,i.Z)("tabs-container",p)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":o},f)},h.map((e=>{let{value:t,label:n,attributes:o}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>x.push(e),onKeyDown:T,onClick:E},o,{className:(0,i.Z)("tabs__item",c,null==o?void 0:o.className,{"tabs__item--active":w===t})}),n??t)}))),n?(0,a.cloneElement)(k.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},k.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,o.Z)();return a.createElement(d,(0,r.Z)({key:String(t)},e))}},7930:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return u}});var r=n(3117),a=(n(7294),n(3905));n(5488),n(5162);const i={sidebar_label:"Container engine",title:"Container engine"},o=void 0,l={unversionedId:"ui/preferences/container-engine",id:"ui/preferences/container-engine",title:"Container engine",description:"General",source:"@site/docs/ui/preferences/container-engine.md",sourceDirName:"ui/preferences",slug:"/ui/preferences/container-engine",permalink:"/next/ui/preferences/container-engine",draft:!1,editUrl:"https://github.com/rancher-sandbox/docs.rancherdesktop.io/edit/main/docs/ui/preferences/container-engine.md",tags:[],version:"current",frontMatter:{sidebar_label:"Container engine",title:"Container engine"},sidebar:"tutorialSidebar",previous:{title:"WSL",permalink:"/next/ui/preferences/wsl"},next:{title:"Kubernetes",permalink:"/next/ui/preferences/kubernetes"}},s={},u=[{value:"General",id:"general",level:2},{value:"Allowed Images",id:"allowed-images",level:2},{value:"How to specify Allowed Image patterns",id:"how-to-specify-allowed-image-patterns",level:3},{value:"Examples",id:"examples",level:3}],p={toc:u};function c(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"general"},"General"),(0,a.kt)("p",null,"Set the ",(0,a.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/setup/production-environment/container-runtimes/"},"container runtime")," for Rancher Desktop. Users have the option of ",(0,a.kt)("a",{parentName:"p",href:"https://containerd.io/"},"containerd")," which provides namespaces for containers and the use of nerdctl or ",(0,a.kt)("a",{parentName:"p",href:"https://mobyproject.org/"},"dockerd (moby)")," which enables the Docker API and the use of the Docker CLI. Only one container runtime will function at a time."),(0,a.kt)("p",null,"When switching to a different container runtime:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Workloads and images that have been built or pulled using the existing container runtime are not available on the container runtime being switched to.")),(0,a.kt)("h2",{id:"allowed-images"},"Allowed Images"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Allowed Images")," tab provides options to let you control which registry artifacts you can access within Rancher Desktop. For example, you may want to pull container images only from your organization's private registry or only from your department-specific namespace in your organization's registry, etc. You can specify image URL patterns to allow accessing images only from specific registries and/or repositories."),(0,a.kt)("p",null,"Check the ",(0,a.kt)("strong",{parentName:"p"},"Enable")," checkbox to enable Rancher Desktop to apply the specified patterns while pulling images, which means only the image URLs that match atleast one of the specified patterns will be allowed."),(0,a.kt)("p",null,"You can use the ",(0,a.kt)("strong",{parentName:"p"},"+")," and ",(0,a.kt)("strong",{parentName:"p"},"-")," buttons to add/remove image URL patterns. "),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(9750).Z,width:"1203",height:"813"})),(0,a.kt)("h3",{id:"how-to-specify-allowed-image-patterns"},"How to specify Allowed Image patterns"),(0,a.kt)("p",null,"You can specify Allowed Image patterns using the format ",(0,a.kt)("inlineCode",{parentName:"p"},"[registryServerUrl/][:port/][organization/]repository[:tag]"),". Rancher Desktop supports using regular expressions in any part of an Allowed Image pattern string."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"If not specified in an Allowed Image pattern string,"),(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"registryServerUrl")," defaults to DockerHub registry (",(0,a.kt)("inlineCode",{parentName:"li"},"registry-1.docker.io"),")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"port"),' defaults to 433, but is optional because the HTTP "Host" header may not include it. '),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"organization")," for DockerHub registry defaults to ",(0,a.kt)("inlineCode",{parentName:"li"},"library"),", and for non-DockerHub registries defaults to no organization."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"tag")," defaults to anything (not including a ",(0,a.kt)("inlineCode",{parentName:"li"},"/"),") and NOT just to ",(0,a.kt)("inlineCode",{parentName:"li"},"latest"),"."))),(0,a.kt)("h3",{id:"examples"},"Examples"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Pattern"),(0,a.kt)("th",{parentName:"tr",align:null},"Equivalent Fully Formed RegEx"),(0,a.kt)("th",{parentName:"tr",align:null},"Meaning"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"busybox"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"~*^registry-1.docker.io(:443)?/library/busybox/manifests/[^/]+$ 0")),(0,a.kt)("td",{parentName:"tr",align:null},"Allow all tags of the image ",(0,a.kt)("inlineCode",{parentName:"td"},"busybox")," in the default organization ",(0,a.kt)("inlineCode",{parentName:"td"},"library")," and from the default registry ",(0,a.kt)("inlineCode",{parentName:"td"},"registry-1.docker.io"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"suse/"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"~*^registry-1.docker.io(:443)?/suse/[^/]+/manifests/[^/]+$ 0")),(0,a.kt)("td",{parentName:"tr",align:null},"Allow any tag of any image in the specified organization ",(0,a.kt)("inlineCode",{parentName:"td"},"suse")," and from the default regsitry ",(0,a.kt)("inlineCode",{parentName:"td"},"registry-1.docker.io")," ",(0,a.kt)("br",null)," ",(0,a.kt)("strong",{parentName:"td"},"Note:"),' A trailing slash on the repository means a single segment follows, e.g. "suse/nginx", but not "suse/foo/bar".')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"rancher/mirrored-","[","^/","]","+"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"~*^registry-1.docker.io(:443)?/rancher/mirrored-[^/]+/manifests/[^/]+$ 0")),(0,a.kt)("td",{parentName:"tr",align:null},"Allow any tag of any image whose name starts with ",(0,a.kt)("inlineCode",{parentName:"td"},"mirrored"),", and in the specified organization ",(0,a.kt)("inlineCode",{parentName:"td"},"rancher")," and from the default registry ",(0,a.kt)("inlineCode",{parentName:"td"},"registry-1.docker.io"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"registry.suse.com/image"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"~*^registry.suse.com(:443)?/image/manifests/[^/]+$ 0")),(0,a.kt)("td",{parentName:"tr",align:null},"Allow any tag of the image ",(0,a.kt)("inlineCode",{parentName:"td"},"image")," from the specified registry ",(0,a.kt)("inlineCode",{parentName:"td"},"registry.suse.com")," ",(0,a.kt)("br",null)," ",(0,a.kt)("strong",{parentName:"td"},"Note:")," Non-DockerHub registries do not mandate to have organizations, so can have images at the top level (no default organization ",(0,a.kt)("inlineCode",{parentName:"td"},"library")," is inserted).")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"registry.home:5000"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"~*^registry.home:5000/.+/manifests/[^/]+$ 0")),(0,a.kt)("td",{parentName:"tr",align:null},"Allow any tag of any image in any organization (or no organization) and from the specified registry ",(0,a.kt)("inlineCode",{parentName:"td"},"registry.home:5000"))))))}c.isMDXComponent=!0},9750:function(e,t,n){t.Z=n.p+"assets/images/allowed-images-c388d8209a1ad8efa5510d4b1adf042d.png"}}]);